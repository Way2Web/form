function e(){const e="svg"===document.documentElement.nodeName.toLowerCase();return"function"!=typeof document.createElement?document.createElement(arguments[0]):e?document.createElementNS.call(document,"http://www.w3.org/2000/svg",arguments[0]):document.createElement.apply(document,arguments)}class t{constructor(t){this.version="1.0.0",this.defaultKeys={s:"button.btn-primary[type=submit]",a:"a.btn-default",Delete:"button.btn-danger[type=submit]"},this.keys={},this.keyOptions=t,this.lastKey=null,this.modern=(()=>{var t,n,r=e("form"),o=e("input"),s=e("div"),i="formtest"+(new Date).getTime();r.id=i;try{o.setAttribute("form",i)}catch(e){document.createAttribute&&((t=document.createAttribute("form")).nodeValue=i,o.setAttributeNode(t))}return s.appendChild(r),s.appendChild(o),document.documentElement.appendChild(s),n=r.elements&&1===r.elements.length&&o.form===r,s.parentNode.removeChild(s),n})()}init(e){return this.keys=Object.assign({},this.defaultKeys,this.keyOptions||{}),e.addEventListener("keydown",this.keyPress.bind(this),!1),this.modern||(e.querySelector("button[type=submit][form]").addEventListener("click",this.submit.bind(this),!1),e.querySelector("form input.form-control").addEventListener("keydown",this.submitOnEnter.bind(this),!1)),this}setModern(e){return this.modern=e,this}getModern(){return this.modern}submitOnEnter(e){"Enter"==e.key&&e.target.closest("form").submit()}submit(e){let t,n=e.target,r=n.attr("name"),o=n.val(),s=n.attr("form");e&&e.preventDefault(),s&&(t=document.getElementById(s),r&&o&&t.append('<input type="hidden" name="'+r+'" value="'+o+'">'),t.length>0&&t.submit())}keyPress(e){let t=this.keys[e.key];this.lastKey=e.key,e.ctrlKey&&t&&"INPUT"!=e.target.tagName&&"TEXTAREA"!=e.target.tagName&&(e.preventDefault(),this.click(t))}click(e){document.querySelectorAll(e).length>0&&document.querySelector(e).click()}}"object"==typeof window&&(window.W2Form=t),"object"==typeof module&&"object"==typeof module.exports&&(module.exports=t);
//# sourceMappingURL=form.modern.js.map
