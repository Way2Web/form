function t(){var t="svg"===document.documentElement.nodeName.toLowerCase();return"function"!=typeof document.createElement?document.createElement(arguments[0]):t?document.createElementNS.call(document,"http://www.w3.org/2000/svg",arguments[0]):document.createElement.apply(document,arguments)}var e=function(){function e(e){this.version="1.0.0",this.defaultKeys={s:"button.btn-primary[type=submit]",a:"a.btn-default",Delete:"button.btn-danger[type=submit]"},this.keys={},this.keyOptions=e,this.lastKey=null,this.modern=function(){var e,n,o=t("form"),r=t("input"),i=t("div"),u="formtest"+(new Date).getTime();o.id=u;try{r.setAttribute("form",u)}catch(t){document.createAttribute&&((e=document.createAttribute("form")).nodeValue=u,r.setAttributeNode(e))}return i.appendChild(o),i.appendChild(r),document.documentElement.appendChild(i),n=o.elements&&1===o.elements.length&&r.form===o,i.parentNode.removeChild(i),n}()}var n=e.prototype;return n.init=function(t){return this.keys=Object.assign({},this.defaultKeys,this.keyOptions||{}),t.addEventListener("keydown",this.keyPress.bind(this),!1),this.modern||(t.querySelector("button[type=submit][form]").addEventListener("click",this.submit.bind(this),!1),t.querySelector("form input.form-control").addEventListener("keydown",this.submitOnEnter.bind(this),!1)),this},n.setModern=function(t){return this.modern=t,this},n.getModern=function(){return this.modern},n.submitOnEnter=function(t){"Enter"==t.key&&t.target.closest("form").submit()},n.submit=function(t){var e,n=t.target,o=n.attr("name"),r=n.val(),i=n.attr("form");t&&t.preventDefault(),i&&(e=document.getElementById(i),o&&r&&e.append('<input type="hidden" name="'+o+'" value="'+r+'">'),e.length>0&&e.submit())},n.keyPress=function(t){var e=this.keys[t.key];this.lastKey=t.key,t.ctrlKey&&e&&"INPUT"!=t.target.tagName&&"TEXTAREA"!=t.target.tagName&&(t.preventDefault(),this.click(e))},n.click=function(t){document.querySelectorAll(t).length>0&&document.querySelector(t).click()},e}();"object"==typeof window&&(window.W2Form=e),"object"==typeof module&&"object"==typeof module.exports&&(module.exports=e);
//# sourceMappingURL=form.js.map
