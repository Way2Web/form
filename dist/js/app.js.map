{"version":3,"sources":["form.js"],"names":["W2Form","keyOptions","version","defaultKeys","keys","modern","Modernizr","formattribute","$","extend","document","on","keyPress","bind","submit","submitOnEnter","customValue","event","key","closest","button","buttonName","attr","buttonValue","val","formId","form","preventDefault","append","length","ctrlKey","target","tagName","click","module","exports"],"mappings":"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","file":"app.js","sourcesContent":["/**\n * Way2Web Form helpers.\n */\nclass W2Form {\n    /**\n     * Constructor.\n     *\n     * @param {object} keyOptions\n     */\n    constructor(keyOptions) {\n        this.version = '0.3.0';\n\n        this.defaultKeys = {\n            's':      'button.btn-primary[type=submit]',\n            'a':      'a.btn-default',\n            'Delete': 'button.btn-danger[type=submit]'\n        };\n        this.keys = {};\n        this.keyOptions = keyOptions;\n\n        this.modern = Modernizr.formattribute;\n    }\n\n\n    /**\n     * Helper functions for forms.\n     *\n     * @return {object}\n     */\n    init() {\n        this.keys = $.extend({}, this.defaultKeys, this.keyOptions || {});\n        $(document).on('keydown', this.keyPress.bind(this));\n\n        if (!this.modern) {\n            $('button[type=submit][form]').on('click', this.submit);\n            $('form input.form-control').on('keydown', this.submitOnEnter);\n        }\n\n        return this;\n    }\n\n    /**\n     * Set the modern variable, to simulate modern check.\n     *\n     * @param {boolean} customValue\n     *\n     * @return {object}\n     */\n    setModern(customValue) {\n        this.modern = customValue;\n\n        return this;\n    }\n\n    /**\n     * Get the modern variable.\n     *\n     * @return {boolean}\n     */\n    getModern() {\n        return this.modern;\n    }\n\n    /**\n     * Trigger the form when you click on the enter button.\n     *\n     * @param {object} event\n     */\n    submitOnEnter(event) {\n        if (event.key == 'Enter') {\n            $(this).closest('form').submit();\n        }\n    }\n\n    /**\n     * Trigger the form when you click on a button with the form attribute.\n     * The attribute form contains the id of the form.\n     *\n     * @param {object} event\n     */\n    submit(event) {\n        let button = $(this);\n        let buttonName = button.attr('name');\n        let buttonValue = button.val();\n        let formId = button.attr('form');\n        let form;\n\n        if (event) {\n            event.preventDefault();\n        }\n\n        if (!formId) {\n            return;\n        }\n\n        form = $('#' + formId);\n        if (buttonName && buttonValue) {\n            form.append('<input type=\"hidden\" name=\"' + buttonName + '\" value=\"' + buttonValue + '\">');\n        }\n\n        if (form.length > 0) {\n            form.submit();\n        }\n    }\n\n    /**\n     * Check if you press a key combination if there is a element to click.\n     *\n     * @param {object} event\n     */\n    keyPress(event) {\n        let key = this.keys[event.key];\n\n        if (event.ctrlKey && key && event.target.tagName != 'INPUT' && event.target.tagName != 'TEXTAREA') {\n            event.preventDefault();\n            this.click(key);\n        }\n    }\n\n    /**\n     * Click on an element.\n     *\n     * @param {string} key\n     */\n    click(key) {\n        if ($(key).length > 0) {\n            $(key)[0].click();\n        }\n    }\n}\n\nif (typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = W2Form;\n}\n"]}