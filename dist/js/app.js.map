{"version":3,"sources":["form.js"],"names":["W2Form","keyOptions","version","defaultKeys","keys","modern","Modernizr","formattribute","$","extend","document","on","keyPress","bind","submit","submitOnEnter","customValue","event","key","closest","button","buttonName","attr","buttonValue","val","formId","form","preventDefault","append","length","ctrlKey","target","tagName","click","module","exports"],"mappings":";;;;;;;;AAAA;;;IAGMA;AACF;;;;;AAKA,oBAAYC,UAAZ,EAAwB;AAAA;;AACpB,aAAKC,OAAL,GAAe,OAAf;;AAEA,aAAKC,WAAL,GAAmB;AACf,iBAAU,iCADK;AAEf,iBAAU,eAFK;AAGf,sBAAU;AAHK,SAAnB;AAKA,aAAKC,IAAL,GAAY,EAAZ;AACA,aAAKH,UAAL,GAAkBA,UAAlB;;AAEA,aAAKI,MAAL,GAAcC,UAAUC,aAAxB;AACH;;AAGD;;;;;;;;;+BAKO;AACH,iBAAKH,IAAL,GAAYI,EAAEC,MAAF,CAAS,EAAT,EAAa,KAAKN,WAAlB,EAA+B,KAAKF,UAAL,IAAmB,EAAlD,CAAZ;AACAO,cAAEE,QAAF,EAAYC,EAAZ,CAAe,SAAf,EAA0B,KAAKC,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAA1B;;AAEA,gBAAI,CAAC,KAAKR,MAAV,EAAkB;AACdG,kBAAE,2BAAF,EAA+BG,EAA/B,CAAkC,OAAlC,EAA2C,KAAKG,MAAhD;AACAN,kBAAE,yBAAF,EAA6BG,EAA7B,CAAgC,SAAhC,EAA2C,KAAKI,aAAhD;AACH;;AAED,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;kCAOUC,aAAa;AACnB,iBAAKX,MAAL,GAAcW,WAAd;;AAEA,mBAAO,IAAP;AACH;;AAED;;;;;;;;oCAKY;AACR,mBAAO,KAAKX,MAAZ;AACH;;AAED;;;;;;;;sCAKcY,OAAO;AACjB,gBAAIA,MAAMC,GAAN,IAAa,OAAjB,EAA0B;AACtBV,kBAAE,IAAF,EAAQW,OAAR,CAAgB,MAAhB,EAAwBL,MAAxB;AACH;AACJ;;AAED;;;;;;;;;+BAMOG,OAAO;AACV,gBAAIG,SAASZ,EAAE,IAAF,CAAb;AACA,gBAAIa,aAAaD,OAAOE,IAAP,CAAY,MAAZ,CAAjB;AACA,gBAAIC,cAAcH,OAAOI,GAAP,EAAlB;AACA,gBAAIC,SAASL,OAAOE,IAAP,CAAY,MAAZ,CAAb;AACA,gBAAII,aAAJ;;AAEA,gBAAIT,KAAJ,EAAW;AACPA,sBAAMU,cAAN;AACH;;AAED,gBAAI,CAACF,MAAL,EAAa;AACT;AACH;;AAEDC,mBAAOlB,EAAE,MAAMiB,MAAR,CAAP;AACA,gBAAIJ,cAAcE,WAAlB,EAA+B;AAC3BG,qBAAKE,MAAL,CAAY,gCAAgCP,UAAhC,GAA6C,WAA7C,GAA2DE,WAA3D,GAAyE,IAArF;AACH;;AAED,gBAAIG,KAAKG,MAAL,GAAc,CAAlB,EAAqB;AACjBH,qBAAKZ,MAAL;AACH;AACJ;;AAED;;;;;;;;iCAKSG,OAAO;AACZ,gBAAIC,MAAM,KAAKd,IAAL,CAAUa,MAAMC,GAAhB,CAAV;;AAEA,gBAAID,MAAMa,OAAN,IAAiBZ,GAAjB,IAAwBD,MAAMc,MAAN,CAAaC,OAAb,IAAwB,OAAhD,IAA2Df,MAAMc,MAAN,CAAaC,OAAb,IAAwB,UAAvF,EAAmG;AAC/Ff,sBAAMU,cAAN;AACA,qBAAKM,KAAL,CAAWf,GAAX;AACH;AACJ;;AAED;;;;;;;;8BAKMA,KAAK;AACP,gBAAIV,EAAEU,GAAF,EAAOW,MAAP,GAAgB,CAApB,EAAuB;AACnBrB,kBAAEU,GAAF,EAAO,CAAP,EAAUe,KAAV;AACH;AACJ;;;;;;AAGL,IAAI,QAAOC,MAAP,yCAAOA,MAAP,OAAkB,QAAlB,IAA8B,QAAOA,OAAOC,OAAd,MAA0B,QAA5D,EAAsE;AAClED,WAAOC,OAAP,GAAiBnC,MAAjB;AACH","file":"app.js","sourcesContent":["/**\n * Way2Web Form helpers.\n */\nclass W2Form {\n    /**\n     * Constructor.\n     *\n     * @param {object} keyOptions\n     */\n    constructor(keyOptions) {\n        this.version = '0.2.0';\n\n        this.defaultKeys = {\n            's':      'button.btn-primary[type=submit]',\n            'a':      'a.btn-default',\n            'Delete': 'button.btn-danger[type=submit]'\n        };\n        this.keys = {};\n        this.keyOptions = keyOptions;\n\n        this.modern = Modernizr.formattribute;\n    }\n\n\n    /**\n     * Helper functions for forms.\n     *\n     * @return {object}\n     */\n    init() {\n        this.keys = $.extend({}, this.defaultKeys, this.keyOptions || {});\n        $(document).on('keydown', this.keyPress.bind(this));\n\n        if (!this.modern) {\n            $('button[type=submit][form]').on('click', this.submit);\n            $('form input.form-control').on('keydown', this.submitOnEnter);\n        }\n\n        return this;\n    }\n\n    /**\n     * Set the modern variable, to simulate modern check.\n     *\n     * @param {boolean} customValue\n     *\n     * @return {object}\n     */\n    setModern(customValue) {\n        this.modern = customValue;\n\n        return this;\n    }\n\n    /**\n     * Get the modern variable.\n     *\n     * @return {boolean}\n     */\n    getModern() {\n        return this.modern;\n    }\n\n    /**\n     * Trigger the form when you click on the enter button.\n     *\n     * @param {object} event\n     */\n    submitOnEnter(event) {\n        if (event.key == 'Enter') {\n            $(this).closest('form').submit();\n        }\n    }\n\n    /**\n     * Trigger the form when you click on a button with the form attribute.\n     * The attribute form contains the id of the form.\n     *\n     * @param {object} event\n     */\n    submit(event) {\n        let button = $(this);\n        let buttonName = button.attr('name');\n        let buttonValue = button.val();\n        let formId = button.attr('form');\n        let form;\n\n        if (event) {\n            event.preventDefault();\n        }\n\n        if (!formId) {\n            return;\n        }\n\n        form = $('#' + formId);\n        if (buttonName && buttonValue) {\n            form.append('<input type=\"hidden\" name=\"' + buttonName + '\" value=\"' + buttonValue + '\">');\n        }\n\n        if (form.length > 0) {\n            form.submit();\n        }\n    }\n\n    /**\n     * Check if you press a key combination if there is a element to click.\n     *\n     * @param {object} event\n     */\n    keyPress(event) {\n        let key = this.keys[event.key];\n\n        if (event.ctrlKey && key && event.target.tagName != 'INPUT' && event.target.tagName != 'TEXTAREA') {\n            event.preventDefault();\n            this.click(key);\n        }\n    }\n\n    /**\n     * Click on an element.\n     *\n     * @param {string} key\n     */\n    click(key) {\n        if ($(key).length > 0) {\n            $(key)[0].click();\n        }\n    }\n}\n\nif (typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = W2Form;\n}\n"]}